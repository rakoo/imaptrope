This version of ximapd is based on https://github.com/shugo/ximapd and adapted to work
with heliotrope, the fabulous mail store by William Morgan : 
https://github.com/wmorgan/heliotrope

It is an IMAP server, supposed to offer an interface to the
JSON-over-HTTP interface of Heliotrope.

INSTALL, SETUP AND THE BORING THINGS

Read README.en (or.ja); you don't need to really install it to test it.
Just run 
$ ruby install.rb --prefix=./fake
to create the 'ximapd' bin that you will use afterwards. You can then
remove the ./fake dir safely.

USAGE

$ ruby -Iruby -Ibackends -I/path/to/heliotrope-client ximapd --start --debug

If you want to test it without destructing everything, you should try
the tag "safe" and not further, because those implement destructive
(STORE, RENAME, DELETE, ...) IMAP functions.

WHAT WORKS FOR NOW

NOTE : When I say it works, I don't mean it's totally safe. Use at your
own risks.

[X] connection
[X] simple authentication
[ ] secure authentication (SSL)

[o] LIST Command
	; FLAGS for each mailbox are not yet spec'd
[X] STATUS Command
[X] EXAMINE Command
[X] SELECT Command

[ ] SEARCH Command
	[X] BODY
	[X] BCC
	[X] ANSWERED
	[X] RECENT
	[X] DRAFT
	[X] DELETED
	[X] UNREAD

[ ] FETCH
	[X] UID
	[X] FLAGS
	[X] INTERNALDATE
	[o] ENVELOPE
		; not sure about the format
	[X] BODY[HEADER]
	[X] BODY[HEADER.FIELDS(whatever whatever)]
	[X] RFC822.HEADER
	[o] BODYSTRUCTURE
		; not sure about the format
	[X] RFC822
	[X] BODY[]
	[X] BODY[TEXT]
	[X] RFC822.TEXT

[X] STORE
	; CAREFUL : This modifies your labels, so use with care. It works, but
	; who knows. Moreover, you MUST ALWAYS conlider that <label> in
	; heliotrope translates as ~<label> in the IMAP interface

[o] RENAME
	; special treatment not taken into account if a mailbox has submailboxes

[o] DELETE
	; special treatment not taken into account if a mailbox has the
	; \Noselect flag or if it has submailboxes

[o] CREATE
	; a mailbox cannot be created, you just have to label a mail with the
	; new label. IMAP will answer OK when you ask it to create a new
	; mailbox

USING OFFLINEIMAP

see branch UIDPLUS
